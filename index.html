<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>shash</title><style>canvas{display:block;width:100vw;height:100vh}body,html{overscroll-behavior:none;margin:0;height:100%;background-color:#404040}</style><link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 9 9'%3E%3Cpath d='M.5 1H3V3H1V7H3V5H5V7H7V3H5V1H7.5' stroke='%23BADA55'/%3E%3C/svg%3E"></head><body><canvas id="gpuCanvas"></canvas><script>"use strict";(()=>{var pt=Object.defineProperty;var Tt=(e,t,r)=>t in e?pt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var b=(e,t,r)=>Tt(e,typeof t!="symbol"?t+"":t,r);function ht(e,t,r){let o=e[r]-e[0],h=e[r+1]-e[1],s=e[r+2]-e[2],d=e[6]-e[0],i=e[7]-e[1],l=e[8]-e[2],T=Math.sqrt(d*d+i*i+l*l);d/=T,i/=T,l/=T;let g=Math.cos(t),n=Math.sin(t),c=o*d+h*i+s*l,v=i*s-l*h,u=l*o-d*s,a=d*h-i*o,f=o*g+v*n+d*c*(1-g),A=h*g+u*n+i*c*(1-g),p=s*g+a*n+l*c*(1-g);e[r]=f+e[0],e[r+1]=A+e[1],e[r+2]=p+e[2]}var ot=class{constructor(t,r,o){this.h=t;this.Y=r;this.X=o;b(this,"a",0);b(this,"t",new Float64Array(12))}L(){this.t[0]=0,this.t[1]=0,this.t[2]=0,this.t[3]=1,this.t[4]=1,this.t[5]=0,this.t[6]=1,this.t[7]=0,this.t[8]=0,this.t[9]=.5,this.t[10]=.5,this.t[11]=-.5}C(t){this.h&1?(this.t[0]=t.t[6],this.t[1]=t.t[7],this.t[2]=t.t[8],this.t[6]=t.t[3],this.t[7]=t.t[4],this.t[8]=t.t[5]):(this.t[0]=t.t[3],this.t[1]=t.t[4],this.t[2]=t.t[5],this.t[6]=t.t[6],this.t[7]=t.t[7],this.t[8]=t.t[8]);let r=this.h,o=r==3||r==4||r==7||r==8||r==11?-1:1;if(this.t[9]=t.t[9],this.t[10]=t.t[10],this.t[11]=t.t[11],ht(this.t,o*-this.a,9),this.t[3]=t.t[0],this.t[4]=t.t[1],this.t[5]=t.t[2],ht(this.t,o*-(this.a+Math.PI/2),3),this.h&1){let h=this.t[6]-this.t[0],s=this.t[7]-this.t[1],d=this.t[8]-this.t[2];this.t[3]+=h,this.t[4]+=s,this.t[5]+=d}}},ut=[[0,2,1],[0,3,2],[0,1,3],[1,2,3]],z=class{constructor(t){this.j=t;b(this,"e",[]);let r=t-1;for(let o=0;o<t;o++){let h=new ot(o,r,(o+1)%t);h.a=Math.PI/4,this.e.push(h),r=o}}N(){if(this.e.length===0)return console.warn("null median"),new Float32Array(3);let t=[1/0,1/0,1/0],r=[-1/0,-1/0,-1/0];for(let o of this.e)for(let h=0;h<4;++h)for(let s=0;s<3;s++)t[s]=Math.min(t[s],o.t[3*h+s]),r[s]=Math.max(r[s],o.t[3*h+s]);return new Float32Array([(t[0]+r[0])/2,(t[1]+r[1])/2,(t[2]+r[2])/2])}y(){this.e[0].L();for(let t=1;t<this.e.length;++t)this.e[t].C(this.e[t-1])}q(){for(let t of this.e)console.log(t.h,t.t)}x(t,r){let o=0;for(let h of this.e)for(let s=0;s<ut.length;++s)for(let d=0;d<3;++d){let i=ut[s][d];t[o++]=h.t[3*i],t[o++]=h.t[3*i+1],t[o++]=h.t[3*i+2];for(let l=0;l<r;l++)t[o++]=0}}};var dt=[[[57,142,45],[61,129,70],[58,151,124],[37,106,74]],[[224,141,36],[217,172,62],[230,111,86],[221,141,78]],[[170,57,132],[163,97,156],[142,75,109],[155,64,85]],[[69,201,145],[61,194,204],[74,165,212],[94,199,171]],[[175,186,104],[225,144,186],[225,135,128],[211,164,111]],[[180,185,46],[117,147,52],[163,136,44],[133,144,81]],[[116,97,213],[82,121,219],[109,140,206],[110,88,159]],[[205,60,39],[219,98,38],[178,72,69],[161,87,43]],[[81,109,28],[107,109,23],[86,100,43],[134,103,45]],[[87,191,65],[135,184,61],[84,195,104],[114,181,118]],[[228,53,136],[219,55,80],[213,58,110],[205,95,122]],[[180,90,204],[214,74,177],[199,147,224],[234,111,173]]],J=6,bt=3*J,et=4*bt,vt=0,Mt=3*4,wt=4+3*4,st=6*4;function it(e){let t=new Uint32Array(e.buffer),r=0,o=e.length/et;for(let h=0;h<o;++h){let s=dt[h%dt.length];for(let d=0;d<4;d++){let i=s[d],l=i[0]<<0|i[1]<<8|i[2]<<16|255<<24;for(let T=0;T<3;++T)t[r+3]=l,e[r+4]=42,e[r+5]=42.42,r+=J}}}var yt=`#version 300 es
precision highp float;

layout(location = 0) in vec3 inPosition;
layout(location = 1) in vec4 inColor;  // read as (RGBA) from packed UNORM bytes
layout(location = 2) in vec2 inUV;

uniform mat4 uMVP;

out vec4 vColor;
out vec2 vUV;

void main() {
    gl_Position = uMVP * vec4(inPosition, 1.0);
    vColor = inColor;
    vUV = inUV;
}
`,xt=`#version 300 es
precision highp float;

in vec4 vColor;
in vec2 vUV;

out vec4 outColor;

void main() {
    outColor = vColor; 
}
`;function ft(e,t,r){let o=e.createShader(t);if(e.shaderSource(o,r),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS)){let h=e.getShaderInfoLog(o);throw e.deleteShader(o),new Error(`Shader compile error: ${h}`)}return o}function gt(e,t,r){let o=ft(e,e.VERTEX_SHADER,t),h=ft(e,e.FRAGMENT_SHADER,r),s=e.createProgram();if(e.attachShader(s,o),e.attachShader(s,h),e.linkProgram(s),!e.getProgramParameter(s,e.LINK_STATUS)){let d=e.getProgramInfoLog(s);throw e.deleteProgram(s),new Error(`Program link error: ${d}`)}return e.deleteShader(o),e.deleteShader(h),s}function Vt(e,t){let r=e.createVertexArray();e.bindVertexArray(r);let o=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,t,e.DYNAMIC_DRAW);let h=0;e.enableVertexAttribArray(h),e.vertexAttribPointer(h,3,e.FLOAT,!1,st,vt);let s=1;e.enableVertexAttribArray(s),e.vertexAttribPointer(s,4,e.UNSIGNED_BYTE,!0,st,Mt);let d=2;return e.enableVertexAttribArray(d),e.vertexAttribPointer(d,2,e.FLOAT,!1,st,wt),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindVertexArray(null),r}var tt=class{constructor(t,r){this.r=t;this.n=r;b(this,"d");b(this,"f");b(this,"l");b(this,"m");b(this,"A",0);b(this,"p",!1);let o=t.getContext("webgl2",{antialias:!0});if(!o)throw new Error("WebGL2 not available or antialiasing not supported");this.d=o,this.f=gt(o,yt,xt),this.m=o.getUniformLocation(this.f,"uMVP")||void 0,o.enable(o.DEPTH_TEST),o.depthFunc(o.LESS),this.resizeCanvas(),window.addEventListener("resize",()=>this.resizeCanvas()),this.n.I(()=>this.u()),this.u()}g(t){let r=t.length/et;if(r%1!==0)throw new Error("Bad array length for tetra data");this.l=Vt(this.d,t),this.A=r,this.u()}u(){this.p||(this.p=!0,requestAnimationFrame(()=>this.S()))}S(){this.p=!1;let t=this.d;if(!this.l||this.A===0)return;t.bindFramebuffer(t.FRAMEBUFFER,null),t.viewport(0,0,this.r.width,this.r.height),t.clearColor(.25,.25,.25,1),t.clearDepth(1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.useProgram(this.f);let r=this.r.width/this.r.height,o=this.n._(r);this.m&&t.uniformMatrix4fv(this.m,!1,new Float32Array(o)),t.bindVertexArray(this.l),t.drawArrays(t.TRIANGLES,0,12*this.A),t.bindVertexArray(null)}resizeCanvas(){let t=window.devicePixelRatio||1;this.r.width=Math.floor(this.r.clientWidth*t),this.r.height=Math.floor(this.r.clientHeight*t),this.u()}};function Pt(e){function t(s,d,i){let l=new e(3);return s!==void 0&&(l[0]=s,d!==void 0&&(l[1]=d,i!==void 0&&(l[2]=i))),l}function r(s,d,i){let l=i??new e(3);return l[0]=s[0]-d[0],l[1]=s[1]-d[1],l[2]=s[2]-d[2],l}function o(s,d,i){let l=i??new e(3),T=s[2]*d[0]-s[0]*d[2],g=s[0]*d[1]-s[1]*d[0];return l[0]=s[1]*d[2]-s[2]*d[1],l[1]=T,l[2]=g,l}function h(s,d){let i=d??new e(3),l=s[0],T=s[1],g=s[2],n=Math.sqrt(l*l+T*T+g*g);return n>1e-5?(i[0]=l/n,i[1]=T/n,i[2]=g/n):(i[0]=0,i[1]=0,i[2]=0),i}return{o:t,D:r,V:o,T:h}}var C=Pt(Float32Array);function Et(e){function t(n,c,v,u,a){let f=a??new e(16),A=Math.tan(Math.PI*.5-.5*n);if(f[0]=A/c,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=A,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=-1,f[12]=0,f[13]=0,f[15]=0,Number.isFinite(u)){let p=1/(v-u);f[10]=u*p,f[14]=u*v*p}else f[10]=-1,f[14]=-v;return f}function r(n,c,v,u,a,f,A,p,V,P,E,F,y,M,w,x){let m=new e(16);return n!==void 0&&(m[0]=n,c!==void 0&&(m[1]=c,v!==void 0&&(m[2]=v,u!==void 0&&(m[3]=u,a!==void 0&&(m[4]=a,f!==void 0&&(m[5]=f,A!==void 0&&(m[6]=A,p!==void 0&&(m[7]=p,V!==void 0&&(m[8]=V,P!==void 0&&(m[9]=P,E!==void 0&&(m[10]=E,F!==void 0&&(m[11]=F,y!==void 0&&(m[12]=y,M!==void 0&&(m[13]=M,w!==void 0&&(m[14]=w,x!==void 0&&(m[15]=x)))))))))))))))),m}function o(n){let c=n??new e(16);return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}function h(n,c,v){let u=v??new e(16),a=c[0],f=c[1],A=c[2],p=n[0],V=n[1],P=n[2],E=n[3],F=n[1*4+0],y=n[1*4+1],M=n[1*4+2],w=n[1*4+3],x=n[2*4+0],m=n[2*4+1],R=n[2*4+2],L=n[2*4+3],I=n[3*4+0],S=n[3*4+1],_=n[3*4+2],D=n[3*4+3];return n!==u&&(u[0]=p,u[1]=V,u[2]=P,u[3]=E,u[4]=F,u[5]=y,u[6]=M,u[7]=w,u[8]=x,u[9]=m,u[10]=R,u[11]=L),u[12]=p*a+F*f+x*A+I,u[13]=V*a+y*f+m*A+S,u[14]=P*a+M*f+R*A+_,u[15]=E*a+w*f+L*A+D,u}function s(n,c,v,u){let a=u??new e(16),f=c[0],A=c[1],p=c[2],V=Math.sqrt(f*f+A*A+p*p);f/=V,A/=V,p/=V;let P=f*f,E=A*A,F=p*p,y=Math.cos(v),M=Math.sin(v),w=1-y,x=P+(1-P)*y,m=f*A*w+p*M,R=f*p*w-A*M,L=f*A*w-p*M,I=E+(1-E)*y,S=A*p*w+f*M,_=f*p*w+A*M,D=A*p*w-f*M,U=F+(1-F)*y,B=n[0],O=n[1],G=n[2],W=n[3],k=n[4],H=n[5],Y=n[6],X=n[7],N=n[8],q=n[9],j=n[10],Z=n[11];return a[0]=x*B+m*k+R*N,a[1]=x*O+m*H+R*q,a[2]=x*G+m*Y+R*j,a[3]=x*W+m*X+R*Z,a[4]=L*B+I*k+S*N,a[5]=L*O+I*H+S*q,a[6]=L*G+I*Y+S*j,a[7]=L*W+I*X+S*Z,a[8]=_*B+D*k+U*N,a[9]=_*O+D*H+U*q,a[10]=_*G+D*Y+U*j,a[11]=_*W+D*X+U*Z,n!==a&&(a[12]=n[12],a[13]=n[13],a[14]=n[14],a[15]=n[15]),a}function d(n,c,v){let u=v??new e(16),a=n[0],f=n[1],A=n[2],p=n[3],V=n[4],P=n[5],E=n[6],F=n[7],y=n[8],M=n[9],w=n[10],x=n[11],m=n[12],R=n[13],L=n[14],I=n[15],S=c[0],_=c[1],D=c[2],U=c[3],B=c[4],O=c[5],G=c[6],W=c[7],k=c[8],H=c[9],Y=c[10],X=c[11],N=c[12],q=c[13],j=c[14],Z=c[15];return u[0]=a*S+V*_+y*D+m*U,u[1]=f*S+P*_+M*D+R*U,u[2]=A*S+E*_+w*D+L*U,u[3]=p*S+F*_+x*D+I*U,u[4]=a*B+V*O+y*G+m*W,u[5]=f*B+P*O+M*G+R*W,u[6]=A*B+E*O+w*G+L*W,u[7]=p*B+F*O+x*G+I*W,u[8]=a*k+V*H+y*Y+m*X,u[9]=f*k+P*H+M*Y+R*X,u[10]=A*k+E*H+w*Y+L*X,u[11]=p*k+F*H+x*Y+I*X,u[12]=a*N+V*q+y*j+m*Z,u[13]=f*N+P*q+M*j+R*Z,u[14]=A*N+E*q+w*j+L*Z,u[15]=p*N+F*q+x*j+I*Z,u}let i=C.o(),l=C.o(),T=C.o();function g(n,c,v,u){let a=u??new e(16);return C.T(C.D(n,c,T),T),C.T(C.V(v,T,i),i),C.T(C.V(T,i,l),l),a[0]=i[0],a[1]=l[0],a[2]=T[0],a[3]=0,a[4]=i[1],a[5]=l[1],a[6]=T[1],a[7]=0,a[8]=i[2],a[9]=l[2],a[10]=T[2],a[11]=0,a[12]=-(i[0]*n[0]+i[1]*n[1]+i[2]*n[2]),a[13]=-(l[0]*n[0]+l[1]*n[1]+l[2]*n[2]),a[14]=-(T[0]*n[0]+T[1]*n[1]+T[2]*n[2]),a[15]=1,a}return{U:t,o:r,Z:o,$:h,K:s,B:d,b:g}}var $=Et(Float32Array);var Ft=-Math.PI*.45,Rt=Math.PI*.45,nt=class{constructor(){b(this,"s",20);b(this,"i",Math.PI/2);b(this,"c",0);b(this,"P",new Float32Array(3));b(this,"E",[])}get O(){return this.s}get G(){return this.i}get W(){return this.c}_(t){let r=this.k,o=C.o(0,1,0),h=$.o();$.b(r,this.P,o,h);let s=2*Math.PI/15,d=$.U(s,t,.1,100),i=$.o();return $.B(d,h,i),i}b(t){this.P.set(t),this.F()}R(t,r,o){let h=!1;if(t!==void 0&&t!==this.s&&(this.s=t,h=!0),r!==void 0&&r!==this.i&&(this.i=r,h=!0),o!==void 0){let s=Lt(o,Ft,Rt);s!==this.c&&(this.c=s,h=!0)}return h&&this.F(),h}get k(){let t=Math.cos(this.c),r=this.s*t*Math.cos(this.i),o=this.s*Math.sin(this.c),h=this.s*t*Math.sin(this.i);return[r,o,h]}I(t){this.E.push(t)}F(){for(let t of this.E)t()}};function Lt(e,t,r){return Math.min(Math.max(e,t),r)}var rt=class{constructor(t){this.n=t;b(this,"v",!1);b(this,"M",0);b(this,"w",0)}H(t){return t.addEventListener("pointerdown",r=>{this.v=!0,this.M=r.clientX,this.w=r.clientY,t.setPointerCapture(r.pointerId)}),t.addEventListener("pointerup",r=>{this.v=!1,t.releasePointerCapture(r.pointerId)}),t.addEventListener("pointermove",r=>{if(!this.v)return;let o=r.clientX-this.M,h=r.clientY-this.w;this.n.R(void 0,this.n.G+o*.01,this.n.W+h*.01),this.M=r.clientX,this.w=r.clientY}),t.addEventListener("wheel",r=>{r.preventDefault(),this.n.R(this.n.O+r.deltaY*.08)},{passive:!1}),this}};var ct=12,K=new Float32Array(ct*et),Q=new z(ct);Q.y();Q.x(K,J-3);it(K);var lt=document.querySelector("canvas"),at=new nt;at.b(new Float32Array([.5,.5,-.25]));var Jt=new rt(at).H(lt),mt=new tt(lt,at);mt.g(K);var Ct=window.performance.now();function At(){let e=window.performance.now(),t=[1e3,4e3,1e3,4e3],r=t.reduce((i,l)=>i+l),o=(e-Ct)%r,h=0;for(let i=0;i<t.length;++i){if(o<=t[i]){h=i;break}o-=t[i]}let s=0,d=Math.PI;switch(h){case 0:default:break;case 1:s=d*o/t[1];break;case 2:s=d;break;case 3:s=d-d*o/t[3];break}for(let i=1;i<ct;++i)Q.e[i].a=s;Q.y(),Q.x(K,J-3),it(K),mt.g(K),requestAnimationFrame(At)}requestAnimationFrame(At);})();</script></body></html>
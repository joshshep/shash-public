<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>shash</title><style>canvas{display:block;width:100vw;height:100%;max-height:100%;overflow:hidden}body,html{overscroll-behavior:none;margin:0;height:100%;overflow:hidden;background-color:#404040}</style><link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 9 9'%3E%3Cpath d='M.5 1H3V3H1V7H3V5H5V7H7V3H5V1H7.5' stroke='%23BADA55'/%3E%3C/svg%3E"></head><body><canvas id="gpuCanvas"></canvas><script>"use strict";(()=>{var wt=Object.defineProperty;var xt=(e,t,n)=>t in e?wt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var A=(e,t,n)=>xt(e,typeof t!="symbol"?t+"":t,n);function ft(e,t,n){let o=e[n]-e[0],i=e[n+1]-e[1],s=e[n+2]-e[2],f=e[6]-e[0],u=e[7]-e[1],l=e[8]-e[2],b=Math.sqrt(f*f+u*u+l*l);f/=b,u/=b,l/=b;let y=Math.cos(t),r=Math.sin(t),c=o*f+i*u+s*l,v=u*s-l*i,h=l*o-f*s,a=f*i-u*o,d=o*y+v*r+f*c*(1-y),p=i*y+h*r+u*c*(1-y),T=s*y+a*r+l*c*(1-y);e[n]=d+e[0],e[n+1]=p+e[1],e[n+2]=T+e[2]}var it=class{constructor(t,n,o){this.f=t;this.z=n;this.tt=o;A(this,"d",0);A(this,"t",new Float64Array(12))}q(){this.t[0]=0,this.t[1]=0,this.t[2]=0,this.t[3]=1,this.t[4]=1,this.t[5]=0,this.t[6]=1,this.t[7]=0,this.t[8]=0,this.t[9]=.5,this.t[10]=.5,this.t[11]=-.5}X(t){this.f&1?(this.t[0]=t.t[6],this.t[1]=t.t[7],this.t[2]=t.t[8],this.t[6]=t.t[3],this.t[7]=t.t[4],this.t[8]=t.t[5]):(this.t[0]=t.t[3],this.t[1]=t.t[4],this.t[2]=t.t[5],this.t[6]=t.t[6],this.t[7]=t.t[7],this.t[8]=t.t[8]);let n=this.f,o=n==3||n==4||n==7||n==8||n==11?-1:1;if(this.t[9]=t.t[9],this.t[10]=t.t[10],this.t[11]=t.t[11],ft(this.t,o*-this.d,9),this.t[3]=t.t[0],this.t[4]=t.t[1],this.t[5]=t.t[2],ft(this.t,o*-(this.d+Math.PI/2),3),this.f&1){let i=this.t[6]-this.t[0],s=this.t[7]-this.t[1],f=this.t[8]-this.t[2];this.t[3]+=i,this.t[4]+=s,this.t[5]+=f}}},lt=[[0,2,1],[0,3,2],[0,1,3],[1,2,3]],tt=class{constructor(t){this.rt=t;A(this,"n",[]);let n=t-1;for(let o=0;o<t;o++){let i=new it(o,n,(o+1)%t);i.d=Math.PI/4,this.n.push(i),n=o}}et(){if(this.n.length===0)return console.warn("null median"),new Float32Array(3);let t=[1/0,1/0,1/0],n=[-1/0,-1/0,-1/0];for(let o of this.n)for(let i=0;i<4;++i)for(let s=0;s<3;s++)t[s]=Math.min(t[s],o.t[3*i+s]),n[s]=Math.max(n[s],o.t[3*i+s]);return new Float32Array([(t[0]+n[0])/2,(t[1]+n[1])/2,(t[2]+n[2])/2])}R(){this.n[0].q();for(let t=1;t<this.n.length;++t)this.n[t].X(this.n[t-1])}nt(){for(let t of this.n)console.log(t.f,t.t)}I(t,n){let o=0;for(let i of this.n)for(let s=0;s<lt.length;++s)for(let f=0;f<3;++f){let u=lt[s][f];t[o++]=i.t[3*u],t[o++]=i.t[3*u+1],t[o++]=i.t[3*u+2];for(let l=0;l<n;l++)t[o++]=0}}};var mt=[[[57,142,45],[61,129,70],[58,151,124],[37,106,74]],[[224,141,36],[217,172,62],[230,111,86],[221,141,78]],[[170,57,132],[163,97,156],[142,75,109],[155,64,85]],[[69,201,145],[61,194,204],[74,165,212],[94,199,171]],[[175,186,104],[225,144,186],[225,135,128],[211,164,111]],[[180,185,46],[117,147,52],[163,136,44],[133,144,81]],[[116,97,213],[82,121,219],[109,140,206],[110,88,159]],[[205,60,39],[219,98,38],[178,72,69],[161,87,43]],[[81,109,28],[107,109,23],[86,100,43],[134,103,45]],[[87,191,65],[135,184,61],[84,195,104],[114,181,118]],[[228,53,136],[219,55,80],[213,58,110],[205,95,122]],[[180,90,204],[214,74,177],[199,147,224],[234,111,173]]],Q=6,gt=3*Q,nt=4*gt,yt=0,Pt=3*4,Vt=4+3*4,ct=6*4;function at(e){let t=new Uint32Array(e.buffer),n=0,o=e.length/nt;for(let i=0;i<o;++i){let s=mt[i%mt.length];for(let f=0;f<4;f++){let u=s[f],l=u[0]<<0|u[1]<<8|u[2]<<16|255<<24;for(let b=0;b<3;++b)t[n+3]=l,e[n+4]=42,e[n+5]=42.42,n+=Q}}}var Et=`#version 300 es
precision highp float;in vec3 inPosition;in vec4 inColor;in vec2 inUV;uniform mat4 uMVP;out vec4 vColor;out vec2 vUV;void main(){gl_Position=uMVP*vec4(inPosition,1.);vColor=inColor;vUV=inUV;}`,Ft=`#version 300 es
precision highp float;in vec4 vColor;in vec2 vUV;out vec4 outColor;void main(){outColor=vColor;}`;function pt(e,t,n){let o=e.createShader(t);if(e.shaderSource(o,n),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS)){let i=e.getShaderInfoLog(o);throw e.deleteShader(o),new Error(`Shader compile error:${i}`)}return o}function Lt(e,t,n){let o=pt(e,e.VERTEX_SHADER,t),i=pt(e,e.FRAGMENT_SHADER,n),s=e.createProgram();if(e.attachShader(s,o),e.attachShader(s,i),e.linkProgram(s),!e.getProgramParameter(s,e.LINK_STATUS)){let f=e.getProgramInfoLog(s);throw e.deleteProgram(s),new Error(`Program link error:${f}`)}return e.deleteShader(o),e.deleteShader(i),s}function Rt(e,t){let n=e.createVertexArray();e.bindVertexArray(n);let o=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,t,e.DYNAMIC_DRAW);let i=0;e.enableVertexAttribArray(i),e.vertexAttribPointer(i,3,e.FLOAT,!1,ct,yt);let s=1;e.enableVertexAttribArray(s),e.vertexAttribPointer(s,4,e.UNSIGNED_BYTE,!0,ct,Pt);let f=2;return e.enableVertexAttribArray(f),e.vertexAttribPointer(f,2,e.FLOAT,!1,ct,Vt),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindVertexArray(null),n}var et=class{constructor(t,n){this.r=t;this.e=n;A(this,"T");A(this,"b");A(this,"v");A(this,"M");A(this,"w",0);A(this,"x",!1);let o=t.getContext("webgl2",{antialias:!0});if(!o)throw new Error("WebGL2 not available or antialiasing not supported");this.T=o,this.b=Lt(o,Et,Ft),this.M=o.getUniformLocation(this.b,"uMVP")||void 0,o.enable(o.DEPTH_TEST),o.depthFunc(o.LESS),this.C(),window.addEventListener("resize",()=>this.C()),this.e.H(()=>this.l()),this.l()}S(t){let n=t.length/nt;if(n%1!==0)throw new Error("Bad array length for tetra data");this.v=Rt(this.T,t),this.w=n,this.l()}l(){this.x||(this.x=!0,requestAnimationFrame(()=>this.k()))}k(){this.x=!1;let t=this.T;if(!this.v||this.w===0)return;t.bindFramebuffer(t.FRAMEBUFFER,null),t.viewport(0,0,this.r.width,this.r.height),t.clearColor(.25,.25,.25,1),t.clearDepth(1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.useProgram(this.b);let n=this.r.width/this.r.height,o=this.e.N(n);this.M&&t.uniformMatrix4fv(this.M,!1,new Float32Array(o)),t.bindVertexArray(this.v),t.drawArrays(t.TRIANGLES,0,12*this.w),t.bindVertexArray(null)}C(){let t=window.devicePixelRatio||1;this.r.width=Math.floor(this.r.clientWidth*t),this.r.height=Math.floor(this.r.clientHeight*t),this.l()}};function It(e){function t(s,f,u){let l=new e(3);return s!==void 0&&(l[0]=s,f!==void 0&&(l[1]=f,u!==void 0&&(l[2]=u))),l}function n(s,f,u){let l=u??new e(3);return l[0]=s[0]-f[0],l[1]=s[1]-f[1],l[2]=s[2]-f[2],l}function o(s,f,u){let l=u??new e(3),b=s[2]*f[0]-s[0]*f[2],y=s[0]*f[1]-s[1]*f[0];return l[0]=s[1]*f[2]-s[2]*f[1],l[1]=b,l[2]=y,l}function i(s,f){let u=f??new e(3),l=s[0],b=s[1],y=s[2],r=Math.sqrt(l*l+b*b+y*y);return r>1e-5?(u[0]=l/r,u[1]=b/r,u[2]=y/r):(u[0]=0,u[1]=0,u[2]=0),u}return{o:t,j:n,_:o,g:i}}var I=It(Float32Array);function Ct(e){function t(r,c,v,h,a){let d=a??new e(16),p=Math.tan(Math.PI*.5-.5*r);if(d[0]=p/c,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=p,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[11]=-1,d[12]=0,d[13]=0,d[15]=0,Number.isFinite(h)){let T=1/(v-h);d[10]=h*T,d[14]=h*v*T}else d[10]=-1,d[14]=-v;return d}function n(r,c,v,h,a,d,p,T,P,V,E,F,x,M,w,g){let m=new e(16);return r!==void 0&&(m[0]=r,c!==void 0&&(m[1]=c,v!==void 0&&(m[2]=v,h!==void 0&&(m[3]=h,a!==void 0&&(m[4]=a,d!==void 0&&(m[5]=d,p!==void 0&&(m[6]=p,T!==void 0&&(m[7]=T,P!==void 0&&(m[8]=P,V!==void 0&&(m[9]=V,E!==void 0&&(m[10]=E,F!==void 0&&(m[11]=F,x!==void 0&&(m[12]=x,M!==void 0&&(m[13]=M,w!==void 0&&(m[14]=w,g!==void 0&&(m[15]=g)))))))))))))))),m}function o(r){let c=r??new e(16);return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}function i(r,c,v){let h=v??new e(16),a=c[0],d=c[1],p=c[2],T=r[0],P=r[1],V=r[2],E=r[3],F=r[1*4+0],x=r[1*4+1],M=r[1*4+2],w=r[1*4+3],g=r[2*4+0],m=r[2*4+1],L=r[2*4+2],R=r[2*4+3],C=r[3*4+0],S=r[3*4+1],_=r[3*4+2],D=r[3*4+3];return r!==h&&(h[0]=T,h[1]=P,h[2]=V,h[3]=E,h[4]=F,h[5]=x,h[6]=M,h[7]=w,h[8]=g,h[9]=m,h[10]=L,h[11]=R),h[12]=T*a+F*d+g*p+C,h[13]=P*a+x*d+m*p+S,h[14]=V*a+M*d+L*p+_,h[15]=E*a+w*d+R*p+D,h}function s(r,c,v,h){let a=h??new e(16),d=c[0],p=c[1],T=c[2],P=Math.sqrt(d*d+p*p+T*T);d/=P,p/=P,T/=P;let V=d*d,E=p*p,F=T*T,x=Math.cos(v),M=Math.sin(v),w=1-x,g=V+(1-V)*x,m=d*p*w+T*M,L=d*T*w-p*M,R=d*p*w-T*M,C=E+(1-E)*x,S=p*T*w+d*M,_=d*T*w+p*M,D=p*T*w-d*M,B=F+(1-F)*x,U=r[0],O=r[1],G=r[2],W=r[3],Y=r[4],q=r[5],X=r[6],H=r[7],k=r[8],N=r[9],j=r[10],Z=r[11];return a[0]=g*U+m*Y+L*k,a[1]=g*O+m*q+L*N,a[2]=g*G+m*X+L*j,a[3]=g*W+m*H+L*Z,a[4]=R*U+C*Y+S*k,a[5]=R*O+C*q+S*N,a[6]=R*G+C*X+S*j,a[7]=R*W+C*H+S*Z,a[8]=_*U+D*Y+B*k,a[9]=_*O+D*q+B*N,a[10]=_*G+D*X+B*j,a[11]=_*W+D*H+B*Z,r!==a&&(a[12]=r[12],a[13]=r[13],a[14]=r[14],a[15]=r[15]),a}function f(r,c,v){let h=v??new e(16),a=r[0],d=r[1],p=r[2],T=r[3],P=r[4],V=r[5],E=r[6],F=r[7],x=r[8],M=r[9],w=r[10],g=r[11],m=r[12],L=r[13],R=r[14],C=r[15],S=c[0],_=c[1],D=c[2],B=c[3],U=c[4],O=c[5],G=c[6],W=c[7],Y=c[8],q=c[9],X=c[10],H=c[11],k=c[12],N=c[13],j=c[14],Z=c[15];return h[0]=a*S+P*_+x*D+m*B,h[1]=d*S+V*_+M*D+L*B,h[2]=p*S+E*_+w*D+R*B,h[3]=T*S+F*_+g*D+C*B,h[4]=a*U+P*O+x*G+m*W,h[5]=d*U+V*O+M*G+L*W,h[6]=p*U+E*O+w*G+R*W,h[7]=T*U+F*O+g*G+C*W,h[8]=a*Y+P*q+x*X+m*H,h[9]=d*Y+V*q+M*X+L*H,h[10]=p*Y+E*q+w*X+R*H,h[11]=T*Y+F*q+g*X+C*H,h[12]=a*k+P*N+x*j+m*Z,h[13]=d*k+V*N+M*j+L*Z,h[14]=p*k+E*N+w*j+R*Z,h[15]=T*k+F*N+g*j+C*Z,h}let u=I.o(),l=I.o(),b=I.o();function y(r,c,v,h){let a=h??new e(16);return I.g(I.j(r,c,b),b),I.g(I._(v,b,u),u),I.g(I._(b,u,l),l),a[0]=u[0],a[1]=l[0],a[2]=b[0],a[3]=0,a[4]=u[1],a[5]=l[1],a[6]=b[1],a[7]=0,a[8]=u[2],a[9]=l[2],a[10]=b[2],a[11]=0,a[12]=-(u[0]*r[0]+u[1]*r[1]+u[2]*r[2]),a[13]=-(l[0]*r[0]+l[1]*r[1]+l[2]*r[2]),a[14]=-(b[0]*r[0]+b[1]*r[1]+b[2]*r[2]),a[15]=1,a}return{Z:t,o:n,ot:o,st:i,it:s,$:f,y}}var $=Ct(Float32Array);var St=-Math.PI*.45,_t=Math.PI*.45,rt=class{constructor(){A(this,"s",20);A(this,"a",Math.PI/2);A(this,"h",0);A(this,"D",new Float32Array(3));A(this,"B",[])}get U(){return this.s}get O(){return this.a}get G(){return this.h}N(t){let n=this.K,o=I.o(0,1,0),i=$.o();$.y(n,this.D,o,i);let s=2*Math.PI/15,f=$.Z(s,t,.1,100),u=$.o();return $.$(f,i,u),u}y(t){this.D.set(t),this.W()}m(t,n,o){let i=!1;if(t!==void 0){let s=At(t,.6,90);s!==this.s&&(this.s=s,i=!0)}if(n!==void 0&&n!==this.a&&(this.a=n,i=!0),o!==void 0){let s=At(o,St,_t);s!==this.h&&(this.h=s,i=!0)}return i&&this.W(),i}get K(){let t=Math.cos(this.h),n=this.s*t*Math.cos(this.a),o=this.s*Math.sin(this.h),i=this.s*t*Math.sin(this.a);return[n,o,i]}H(t){this.B.push(t)}W(){for(let t of this.B)t()}};function At(e,t,n){return Math.min(Math.max(e,t),n)}var ot=class{constructor(t){this.e=t;A(this,"P",!1);A(this,"V",0);A(this,"E",0);A(this,"i",0);A(this,"c",0);A(this,"F",0);A(this,"u",!1);A(this,"L",0);A(this,"Y",.85);A(this,"p",.007);A(this,"A",.02)}J(t){return t.addEventListener("pointerdown",n=>{this.P=!0,this.V=n.clientX,this.E=n.clientY,this.i=0,this.c=0,this.F=performance.now(),t.setPointerCapture(n.pointerId)}),t.addEventListener("pointerup",n=>{this.P=!1,this.u=!1,t.releasePointerCapture(n.pointerId),this.Q()}),t.addEventListener("pointermove",n=>{if(!this.P||this.u)return;let o=performance.now(),i=o-this.F;if(i<=0)return;let s=window.devicePixelRatio||1,f=(n.clientX-this.V)*s,u=(n.clientY-this.E)*s,l=(n.pointerType==="touch",1);this.e.m(void 0,this.e.O+f*this.p*l,this.e.G+u*this.p*l),this.i=f*l/i,this.c=u*l/i,this.F=o,this.V=n.clientX,this.E=n.clientY}),t.addEventListener("wheel",n=>{n.preventDefault(),this.e.m(this.e.U+n.deltaY*.08)},{passive:!1}),t.addEventListener("touchstart",n=>{n.touches.length===2&&(this.u=!0,this.L=Tt(n.touches))}),t.addEventListener("touchmove",n=>{if(this.u&&n.touches.length===2){n.preventDefault();let o=Tt(n.touches),i=o/this.L;this.e.m(this.e.U/i),this.L=o}},{passive:!1}),t.addEventListener("touchend",n=>{n.touches.length<2&&(this.u=!1)}),this}Q(){if(Math.abs(this.i)<this.A&&Math.abs(this.c)<this.A)return;let t=()=>{this.e.m(void 0,this.e.O+this.i*this.p*16,this.e.G+this.c*this.p*16),this.i*=this.Y,this.c*=this.Y,(Math.abs(this.i)>=this.A||Math.abs(this.c)>=this.A)&&requestAnimationFrame(t)};requestAnimationFrame(t)}};function Tt(e){let t=e[0].clientX-e[1].clientX,n=e[0].clientY-e[1].clientY;return Math.sqrt(t*t+n*n)}var ut=12,J=new Float32Array(ut*nt),z=new tt(ut);z.R();z.I(J,Q-3);at(J);var vt=document.querySelector("canvas"),dt=new rt;dt.y(new Float32Array([.5,.5,-.25]));var ne=new ot(dt).J(vt),Mt=new et(vt,dt);Mt.S(J);var Dt=performance.now(),bt=-1,K=[1e3,4e3,1e3,4e3],Bt=K.reduce((e,t)=>e+t),st=Math.PI;function ht(){let t=(performance.now()-Dt)%Bt,n=0;for(let i=0;i<K.length;++i){if(t<=K[i]){n=i;break}t-=K[i]}let o=0;switch(n){case 0:default:break;case 1:o=st*t/K[1];break;case 2:o=st;break;case 3:o=st-st*t/K[3];break}if(o===bt){requestAnimationFrame(ht);return}bt=o;for(let i=1;i<ut;++i)z.n[i].d=o;z.R(),z.I(J,Q-3),at(J),Mt.S(J),requestAnimationFrame(ht)}requestAnimationFrame(ht);})();</script></body></html>
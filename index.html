<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>shash</title><style>canvas{display:block;width:100vw;height:100%;max-height:100%;overflow:hidden}body,html{overscroll-behavior:none;margin:0;height:100%;overflow:hidden;background-color:#404040}</style><link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 9 9'%3E%3Cpath d='M.5 1H3V3H1V7H3V5H5V7H7V3H5V1H7.5' stroke='%23BADA55'/%3E%3C/svg%3E"></head><body><canvas id="gpuCanvas"></canvas><script>"use strict";(()=>{var bt=Object.defineProperty;var vt=(e,t,n)=>t in e?bt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var A=(e,t,n)=>vt(e,typeof t!="symbol"?t+"":t,n);function ht(e,t,n){let o=e[n]-e[0],i=e[n+1]-e[1],s=e[n+2]-e[2],u=e[6]-e[0],c=e[7]-e[1],l=e[8]-e[2],b=Math.sqrt(u*u+c*c+l*l);u/=b,c/=b,l/=b;let g=Math.cos(t),r=Math.sin(t),a=o*u+i*c+s*l,v=c*s-l*i,d=l*o-u*s,h=u*i-c*o,f=o*g+v*r+u*a*(1-g),p=i*g+d*r+c*a*(1-g),T=s*g+h*r+l*a*(1-g);e[n]=f+e[0],e[n+1]=p+e[1],e[n+2]=T+e[2]}var ot=class{constructor(t,n,o){this.f=t;this.Q=n;this.z=o;A(this,"d",0);A(this,"t",new Float64Array(12))}Y(){this.t[0]=0,this.t[1]=0,this.t[2]=0,this.t[3]=1,this.t[4]=1,this.t[5]=0,this.t[6]=1,this.t[7]=0,this.t[8]=0,this.t[9]=.5,this.t[10]=.5,this.t[11]=-.5}X(t){this.f&1?(this.t[0]=t.t[6],this.t[1]=t.t[7],this.t[2]=t.t[8],this.t[6]=t.t[3],this.t[7]=t.t[4],this.t[8]=t.t[5]):(this.t[0]=t.t[3],this.t[1]=t.t[4],this.t[2]=t.t[5],this.t[6]=t.t[6],this.t[7]=t.t[7],this.t[8]=t.t[8]);let n=this.f,o=n==3||n==4||n==7||n==8||n==11?-1:1;if(this.t[9]=t.t[9],this.t[10]=t.t[10],this.t[11]=t.t[11],ht(this.t,o*-this.d,9),this.t[3]=t.t[0],this.t[4]=t.t[1],this.t[5]=t.t[2],ht(this.t,o*-(this.d+Math.PI/2),3),this.f&1){let i=this.t[6]-this.t[0],s=this.t[7]-this.t[1],u=this.t[8]-this.t[2];this.t[3]+=i,this.t[4]+=s,this.t[5]+=u}}},ut=[[0,2,1],[0,3,2],[0,1,3],[1,2,3]],z=class{constructor(t){this.nt=t;A(this,"n",[]);let n=t-1;for(let o=0;o<t;o++){let i=new ot(o,n,(o+1)%t);i.d=Math.PI/4,this.n.push(i),n=o}}tt(){if(this.n.length===0)return console.warn("null median"),new Float32Array(3);let t=[1/0,1/0,1/0],n=[-1/0,-1/0,-1/0];for(let o of this.n)for(let i=0;i<4;++i)for(let s=0;s<3;s++)t[s]=Math.min(t[s],o.t[3*i+s]),n[s]=Math.max(n[s],o.t[3*i+s]);return new Float32Array([(t[0]+n[0])/2,(t[1]+n[1])/2,(t[2]+n[2])/2])}R(){this.n[0].Y();for(let t=1;t<this.n.length;++t)this.n[t].X(this.n[t-1])}et(){for(let t of this.n)console.log(t.f,t.t)}C(t,n){let o=0;for(let i of this.n)for(let s=0;s<ut.length;++s)for(let u=0;u<3;++u){let c=ut[s][u];t[o++]=i.t[3*c],t[o++]=i.t[3*c+1],t[o++]=i.t[3*c+2];for(let l=0;l<n;l++)t[o++]=0}}};var dt=[[[57,142,45],[61,129,70],[58,151,124],[37,106,74]],[[224,141,36],[217,172,62],[230,111,86],[221,141,78]],[[170,57,132],[163,97,156],[142,75,109],[155,64,85]],[[69,201,145],[61,194,204],[74,165,212],[94,199,171]],[[175,186,104],[225,144,186],[225,135,128],[211,164,111]],[[180,185,46],[117,147,52],[163,136,44],[133,144,81]],[[116,97,213],[82,121,219],[109,140,206],[110,88,159]],[[205,60,39],[219,98,38],[178,72,69],[161,87,43]],[[81,109,28],[107,109,23],[86,100,43],[134,103,45]],[[87,191,65],[135,184,61],[84,195,104],[114,181,118]],[[228,53,136],[219,55,80],[213,58,110],[205,95,122]],[[180,90,204],[214,74,177],[199,147,224],[234,111,173]]],J=6,Mt=3*J,et=4*Mt,wt=0,yt=3*4,xt=4+3*4,st=6*4;function it(e){let t=new Uint32Array(e.buffer),n=0,o=e.length/et;for(let i=0;i<o;++i){let s=dt[i%dt.length];for(let u=0;u<4;u++){let c=s[u],l=c[0]<<0|c[1]<<8|c[2]<<16|255<<24;for(let b=0;b<3;++b)t[n+3]=l,e[n+4]=42,e[n+5]=42.42,n+=J}}}var gt=`#version 300 es
precision highp float;

layout(location = 0) in vec3 inPosition;
layout(location = 1) in vec4 inColor;  // read as (RGBA) from packed UNORM bytes
layout(location = 2) in vec2 inUV;

uniform mat4 uMVP;

out vec4 vColor;
out vec2 vUV;

void main() {
    gl_Position = uMVP * vec4(inPosition, 1.0);
    vColor = inColor;
    vUV = inUV;
}
`,Vt=`#version 300 es
precision highp float;

in vec4 vColor;
in vec2 vUV;

out vec4 outColor;

void main() {
    outColor = vColor; 
}
`;function ft(e,t,n){let o=e.createShader(t);if(e.shaderSource(o,n),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS)){let i=e.getShaderInfoLog(o);throw e.deleteShader(o),new Error(`Shader compile error: ${i}`)}return o}function Pt(e,t,n){let o=ft(e,e.VERTEX_SHADER,t),i=ft(e,e.FRAGMENT_SHADER,n),s=e.createProgram();if(e.attachShader(s,o),e.attachShader(s,i),e.linkProgram(s),!e.getProgramParameter(s,e.LINK_STATUS)){let u=e.getProgramInfoLog(s);throw e.deleteProgram(s),new Error(`Program link error: ${u}`)}return e.deleteShader(o),e.deleteShader(i),s}function Et(e,t){let n=e.createVertexArray();e.bindVertexArray(n);let o=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,t,e.DYNAMIC_DRAW);let i=0;e.enableVertexAttribArray(i),e.vertexAttribPointer(i,3,e.FLOAT,!1,st,wt);let s=1;e.enableVertexAttribArray(s),e.vertexAttribPointer(s,4,e.UNSIGNED_BYTE,!0,st,yt);let u=2;return e.enableVertexAttribArray(u),e.vertexAttribPointer(u,2,e.FLOAT,!1,st,xt),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindVertexArray(null),n}var tt=class{constructor(t,n){this.r=t;this.e=n;A(this,"T");A(this,"b");A(this,"v");A(this,"M");A(this,"w",0);A(this,"y",!1);let o=t.getContext("webgl2",{antialias:!0});if(!o)throw new Error("WebGL2 not available or antialiasing not supported");this.T=o,this.b=Pt(o,gt,Vt),this.M=o.getUniformLocation(this.b,"uMVP")||void 0,o.enable(o.DEPTH_TEST),o.depthFunc(o.LESS),this.resizeCanvas(),window.addEventListener("resize",()=>this.resizeCanvas()),this.e.k(()=>this.l()),this.l()}I(t){let n=t.length/et;if(n%1!==0)throw new Error("Bad array length for tetra data");this.v=Et(this.T,t),this.w=n,this.l()}l(){this.y||(this.y=!0,requestAnimationFrame(()=>this.q()))}q(){this.y=!1;let t=this.T;if(!this.v||this.w===0)return;t.bindFramebuffer(t.FRAMEBUFFER,null),t.viewport(0,0,this.r.width,this.r.height),t.clearColor(.25,.25,.25,1),t.clearDepth(1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.useProgram(this.b);let n=this.r.width/this.r.height,o=this.e.H(n);this.M&&t.uniformMatrix4fv(this.M,!1,new Float32Array(o)),t.bindVertexArray(this.v),t.drawArrays(t.TRIANGLES,0,12*this.w),t.bindVertexArray(null)}resizeCanvas(){let t=window.devicePixelRatio||1;this.r.width=Math.floor(this.r.clientWidth*t),this.r.height=Math.floor(this.r.clientHeight*t),this.l()}};function Ft(e){function t(s,u,c){let l=new e(3);return s!==void 0&&(l[0]=s,u!==void 0&&(l[1]=u,c!==void 0&&(l[2]=c))),l}function n(s,u,c){let l=c??new e(3);return l[0]=s[0]-u[0],l[1]=s[1]-u[1],l[2]=s[2]-u[2],l}function o(s,u,c){let l=c??new e(3),b=s[2]*u[0]-s[0]*u[2],g=s[0]*u[1]-s[1]*u[0];return l[0]=s[1]*u[2]-s[2]*u[1],l[1]=b,l[2]=g,l}function i(s,u){let c=u??new e(3),l=s[0],b=s[1],g=s[2],r=Math.sqrt(l*l+b*b+g*g);return r>1e-5?(c[0]=l/r,c[1]=b/r,c[2]=g/r):(c[0]=0,c[1]=0,c[2]=0),c}return{o:t,N:n,S:o,x:i}}var C=Ft(Float32Array);function Lt(e){function t(r,a,v,d,h){let f=h??new e(16),p=Math.tan(Math.PI*.5-.5*r);if(f[0]=p/a,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=p,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=-1,f[12]=0,f[13]=0,f[15]=0,Number.isFinite(d)){let T=1/(v-d);f[10]=d*T,f[14]=d*v*T}else f[10]=-1,f[14]=-v;return f}function n(r,a,v,d,h,f,p,T,V,P,E,F,y,M,w,x){let m=new e(16);return r!==void 0&&(m[0]=r,a!==void 0&&(m[1]=a,v!==void 0&&(m[2]=v,d!==void 0&&(m[3]=d,h!==void 0&&(m[4]=h,f!==void 0&&(m[5]=f,p!==void 0&&(m[6]=p,T!==void 0&&(m[7]=T,V!==void 0&&(m[8]=V,P!==void 0&&(m[9]=P,E!==void 0&&(m[10]=E,F!==void 0&&(m[11]=F,y!==void 0&&(m[12]=y,M!==void 0&&(m[13]=M,w!==void 0&&(m[14]=w,x!==void 0&&(m[15]=x)))))))))))))))),m}function o(r){let a=r??new e(16);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function i(r,a,v){let d=v??new e(16),h=a[0],f=a[1],p=a[2],T=r[0],V=r[1],P=r[2],E=r[3],F=r[1*4+0],y=r[1*4+1],M=r[1*4+2],w=r[1*4+3],x=r[2*4+0],m=r[2*4+1],L=r[2*4+2],R=r[2*4+3],I=r[3*4+0],S=r[3*4+1],_=r[3*4+2],D=r[3*4+3];return r!==d&&(d[0]=T,d[1]=V,d[2]=P,d[3]=E,d[4]=F,d[5]=y,d[6]=M,d[7]=w,d[8]=x,d[9]=m,d[10]=L,d[11]=R),d[12]=T*h+F*f+x*p+I,d[13]=V*h+y*f+m*p+S,d[14]=P*h+M*f+L*p+_,d[15]=E*h+w*f+R*p+D,d}function s(r,a,v,d){let h=d??new e(16),f=a[0],p=a[1],T=a[2],V=Math.sqrt(f*f+p*p+T*T);f/=V,p/=V,T/=V;let P=f*f,E=p*p,F=T*T,y=Math.cos(v),M=Math.sin(v),w=1-y,x=P+(1-P)*y,m=f*p*w+T*M,L=f*T*w-p*M,R=f*p*w-T*M,I=E+(1-E)*y,S=p*T*w+f*M,_=f*T*w+p*M,D=p*T*w-f*M,U=F+(1-F)*y,B=r[0],O=r[1],G=r[2],W=r[3],Y=r[4],X=r[5],k=r[6],q=r[7],H=r[8],N=r[9],j=r[10],Z=r[11];return h[0]=x*B+m*Y+L*H,h[1]=x*O+m*X+L*N,h[2]=x*G+m*k+L*j,h[3]=x*W+m*q+L*Z,h[4]=R*B+I*Y+S*H,h[5]=R*O+I*X+S*N,h[6]=R*G+I*k+S*j,h[7]=R*W+I*q+S*Z,h[8]=_*B+D*Y+U*H,h[9]=_*O+D*X+U*N,h[10]=_*G+D*k+U*j,h[11]=_*W+D*q+U*Z,r!==h&&(h[12]=r[12],h[13]=r[13],h[14]=r[14],h[15]=r[15]),h}function u(r,a,v){let d=v??new e(16),h=r[0],f=r[1],p=r[2],T=r[3],V=r[4],P=r[5],E=r[6],F=r[7],y=r[8],M=r[9],w=r[10],x=r[11],m=r[12],L=r[13],R=r[14],I=r[15],S=a[0],_=a[1],D=a[2],U=a[3],B=a[4],O=a[5],G=a[6],W=a[7],Y=a[8],X=a[9],k=a[10],q=a[11],H=a[12],N=a[13],j=a[14],Z=a[15];return d[0]=h*S+V*_+y*D+m*U,d[1]=f*S+P*_+M*D+L*U,d[2]=p*S+E*_+w*D+R*U,d[3]=T*S+F*_+x*D+I*U,d[4]=h*B+V*O+y*G+m*W,d[5]=f*B+P*O+M*G+L*W,d[6]=p*B+E*O+w*G+R*W,d[7]=T*B+F*O+x*G+I*W,d[8]=h*Y+V*X+y*k+m*q,d[9]=f*Y+P*X+M*k+L*q,d[10]=p*Y+E*X+w*k+R*q,d[11]=T*Y+F*X+x*k+I*q,d[12]=h*H+V*N+y*j+m*Z,d[13]=f*H+P*N+M*j+L*Z,d[14]=p*H+E*N+w*j+R*Z,d[15]=T*H+F*N+x*j+I*Z,d}let c=C.o(),l=C.o(),b=C.o();function g(r,a,v,d){let h=d??new e(16);return C.x(C.N(r,a,b),b),C.x(C.S(v,b,c),c),C.x(C.S(b,c,l),l),h[0]=c[0],h[1]=l[0],h[2]=b[0],h[3]=0,h[4]=c[1],h[5]=l[1],h[6]=b[1],h[7]=0,h[8]=c[2],h[9]=l[2],h[10]=b[2],h[11]=0,h[12]=-(c[0]*r[0]+c[1]*r[1]+c[2]*r[2]),h[13]=-(l[0]*r[0]+l[1]*r[1]+l[2]*r[2]),h[14]=-(b[0]*r[0]+b[1]*r[1]+b[2]*r[2]),h[15]=1,h}return{j:t,o:n,rt:o,ot:i,st:s,Z:u,g}}var $=Lt(Float32Array);var Rt=-Math.PI*.45,Ct=Math.PI*.45,nt=class{constructor(){A(this,"s",20);A(this,"a",Math.PI/2);A(this,"h",0);A(this,"_",new Float32Array(3));A(this,"D",[])}get U(){return this.s}get B(){return this.a}get O(){return this.h}H(t){let n=this.$,o=C.o(0,1,0),i=$.o();$.g(n,this._,o,i);let s=2*Math.PI/15,u=$.j(s,t,.1,100),c=$.o();return $.Z(u,i,c),c}g(t){this._.set(t),this.G()}m(t,n,o){let i=!1;if(t!==void 0){let s=lt(t,.6,100);s!==this.s&&(this.s=s,i=!0)}if(n!==void 0&&n!==this.a&&(this.a=n,i=!0),o!==void 0){let s=lt(o,Rt,Ct);s!==this.h&&(this.h=s,i=!0)}return i&&this.G(),i}get $(){let t=Math.cos(this.h),n=this.s*t*Math.cos(this.a),o=this.s*Math.sin(this.h),i=this.s*t*Math.sin(this.a);return[n,o,i]}k(t){this.D.push(t)}G(){for(let t of this.D)t()}};function lt(e,t,n){return Math.min(Math.max(e,t),n)}var rt=class{constructor(t){this.e=t;A(this,"V",!1);A(this,"P",0);A(this,"E",0);A(this,"i",0);A(this,"c",0);A(this,"F",0);A(this,"u",!1);A(this,"L",0);A(this,"W",.93);A(this,"p",.01);A(this,"A",.02)}K(t){return t.addEventListener("pointerdown",n=>{this.V=!0,this.P=n.clientX,this.E=n.clientY,this.i=0,this.c=0,this.F=performance.now(),t.setPointerCapture(n.pointerId)}),t.addEventListener("pointerup",n=>{this.V=!1,this.u=!1,t.releasePointerCapture(n.pointerId),this.J()}),t.addEventListener("pointermove",n=>{if(this.u||!this.V)return;let o=performance.now(),i=o-this.F;if(i<=0)return;let s=n.clientX-this.P,u=n.clientY-this.E;this.e.m(void 0,this.e.B+s*this.p,this.e.O+u*this.p),this.i=s/i,this.c=u/i,this.F=o,this.P=n.clientX,this.E=n.clientY}),t.addEventListener("wheel",n=>{n.preventDefault(),this.e.m(this.e.U+n.deltaY*.08)},{passive:!1}),t.addEventListener("touchstart",n=>{n.touches.length===2&&(this.u=!0,this.L=mt(n.touches))}),t.addEventListener("touchmove",n=>{if(this.u&&n.touches.length===2){n.preventDefault();let o=mt(n.touches),i=o/this.L;this.e.m(this.e.U/i),this.L=o}},{passive:!1}),t.addEventListener("touchend",n=>{n.touches.length<2&&(this.u=!1)}),this}J(){if(Math.abs(this.i)<this.A&&Math.abs(this.c)<this.A)return;let t=()=>{this.e.m(void 0,this.e.B+this.i*this.p*16,this.e.O+this.c*this.p*16),this.i*=this.W,this.c*=this.W,(Math.abs(this.i)>=this.A||Math.abs(this.c)>=this.A)&&requestAnimationFrame(t)};requestAnimationFrame(t)}};function mt(e){let t=e[0].clientX-e[1].clientX,n=e[0].clientY-e[1].clientY;return Math.sqrt(t*t+n*n)}var ct=12,K=new Float32Array(ct*et),Q=new z(ct);Q.R();Q.C(K,J-3);it(K);var pt=document.querySelector("canvas"),at=new nt;at.g(new Float32Array([.5,.5,-.25]));var Qt=new rt(at).K(pt),At=new tt(pt,at);At.I(K);var It=window.performance.now();function Tt(){let e=window.performance.now(),t=[1e3,4e3,1e3,4e3],n=t.reduce((c,l)=>c+l),o=(e-It)%n,i=0;for(let c=0;c<t.length;++c){if(o<=t[c]){i=c;break}o-=t[c]}let s=0,u=Math.PI;switch(i){case 0:default:break;case 1:s=u*o/t[1];break;case 2:s=u;break;case 3:s=u-u*o/t[3];break}for(let c=1;c<ct;++c)Q.n[c].d=s;Q.R(),Q.C(K,J-3),it(K),At.I(K),requestAnimationFrame(Tt)}requestAnimationFrame(Tt);})();</script></body></html>